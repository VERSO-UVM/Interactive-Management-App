{% extends 'base.html' %}  {# Extends the 'base.html' template #}
{% import "bootstrap/wtf.html" as wtf %}  {# Imports 'wtf.html' from the 'bootstrap' directory with an alias 'wtf' #}

{% block styles %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/factor.css') }}">
{% endblock %}

{% block title %}
Factor Page  {# Sets the title of the page to "Factor Page" #}
{% endblock %}

<link rel="stylesheet" href="factor.css">

{% block content %}
<div class="grid-container">
  <div class="factorPage">
      <h1 class="pt-5 pb-2">Factors</h1>  {# Heading for the factor page #}
  </div>
  <div class="buttons">
  <button class="ascending" id="ascending">Ascending</button>
  <button class="desscending" id="desscending">Desscending</button>
  </div>
<div class="table">
      <!-- Table of factors that include: ID, Order, Factor -->
      <table style="width: 100%">
        <!-- Table row for header-->
        <tr>
          <th>Factor</th>  
          <th>Frquency</th>    
          <th>Edit</th>
          <th>Delete</th>    
        </tr>
       
        {% for i in factor %}
      <tr>

          <td class="f_box">{{ i.title }}</td>
          <td class="f_box">{{ i.votes }}</td>
          <!-- Send to edit with id -->
          <td class="f_box">
          <br>
          <a href="{{ url_for('edit_factor',id=i.id) }}">Edit</a>
          </td>
          <!-- Send to edit with id -->
          <td class="f_box">
          <br>
          <a href="{{ url_for('delete_factor',id=i.id) }}">Delete</a>
          </td>
      </tr>
      {% endfor %}
      </table>
</div> 
<p>Add New Factor</p>
<form action="{{ url_for('insert_factor') }}" method="post" onsubmit="return validateForm()">
  <label for="f_title">Factor Title</label>
  <input type="text" name="f_title"><br>
  <label for="f_description">Description</label>
  <input type="text" name="f_description"><br>
  <label for="f_votes">Frequency</label>
  <input type="number" name="f_votes" placeholder=0><br>

  <button type="submit">Save</button>
</form>

<script>

document.getElementById("ascending").addEventListener("click", ascendingVotes);
function ascendingVotes() 
{
  
  $.get('/factor/1',
    function(x) 
    {

    }
  )
}


document.getElementById("desscending").addEventListener("click", descendingVotes);
function desscendingVotes() 
{
  $.get('/factor/2',
    function(x) 
    {

    }
  )
}
</script>
{% endblock %}


